import{a as d}from"./assets/vendor-bdb8a163.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();const u="https://api.themoviedb.org/3",p="82b205270d637f8e7c805273646956b7",f="/discover/movie",g="/genre/movie/list",v="https://image.tmdb.org/t/p/w200/",y={api_key:p},a=d.create({baseURL:u,params:y}),h=async(s=1)=>{const{data:o}=await a(`${f}?page=${s}`);return o},L=async()=>{const{data:s}=await a(`${g}`);return s},b=document.querySelector(".movies-list"),$=(s,o)=>{const r=s.map(({title:i,poster_path:e,genre_ids:t,release_date:n})=>{const l=o.filter(c=>t.includes(c.id)).map(c=>c.name).join(", "),m=n.split("-")[0];return`
    <li class="movies-item">
      <img class="movies-img" src="${v+e}" alt=""/>
      <p class="movies-title">${i}</p>
        <p class="movies-text">${l} | ${m}</p>
    </li>
    `}).join("");b.insertAdjacentHTML("beforeend",r)},w=async()=>{try{const{page:s,total_page:o,results:r}=await h(1),{genres:i}=await L();r.length>0&&$(r,i)}catch(s){console.log(s.message)}};w();
//# sourceMappingURL=commonHelpers.js.map
