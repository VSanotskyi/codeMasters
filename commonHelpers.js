import{a as y}from"./assets/vendor-bdb8a163.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}})();const h="https://api.themoviedb.org/3",b="82b205270d637f8e7c805273646956b7",L="/discover/movie",S="/genre/movie/list",P="https://image.tmdb.org/t/p/w200/",x={api_key:b},d=y.create({baseURL:h,params:x}),m="page",u="total_pages",M=async(o=1)=>{const{data:t}=await d(`${L}?page=${o}`);return t},N=async()=>{const{data:o}=await d(`${S}`);return o},E=document.querySelector(".movies-list"),w=(o,t)=>{E.innerHTML=o.map(({title:r,poster_path:a,genre_ids:e,release_date:s})=>{const i=t.filter(g=>e.includes(g.id)).map(g=>g.name).join(", "),v=s.split("-")[0];return`
    <li class="movies-item">
      <img class="movies-img" src="${P+a}" alt=""/>
      <p class="movies-title overflowWrap">${r}</p>
      <p class="movies-text overflowWrap">${i} | ${v}</p>
    </li>
    `}).join("")},p=async o=>{try{const{page:t,total_pages:r,results:a}=await M(o),{genres:e}=await N();a.length>0&&w(a,e),r>1&&(localStorage.setItem(m,t),localStorage.setItem(u,r))}catch(t){console.log(t.message)}};p();const I=document.querySelector(".pagination-container"),O=document.querySelectorAll(".page"),$=document.querySelector(".prev"),q=document.querySelector(".next");let n=Number(localStorage.getItem(m))?Number(localStorage.getItem(m)):1;const c=Number(localStorage.getItem(u))>500?500:Number(localStorage.getItem(u)),l=5,f=()=>{let o=Math.floor(l/2),t=Math.max(n-o,1),r=Math.min(n+o,c);r-t+1<l&&(t===1?r=Math.min(t+l-1,c):r===c&&(t=Math.max(r-l+1,1))),O.forEach((a,e)=>{const s=t+e;a.textContent=String(s),s===n?a.classList.add("pagination-current"):a.classList.remove("pagination-current")}),$.disabled=n===1,q.disabled=n===c},A=async o=>{o.target.classList.contains("page")&&(n=Number(o.target.textContent)),o.target.classList.contains("prev")&&(n-=1),o.target.classList.contains("next")&&(n+=1),p(n),f()};f();I.addEventListener("click",A);
//# sourceMappingURL=commonHelpers.js.map
